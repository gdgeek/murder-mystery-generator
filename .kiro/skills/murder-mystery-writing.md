---
inclusion: fileMatch
fileMatchPattern: "**/*murder*,**/*script*,**/*mystery*,**/*generation*,**/*skill*,**/*clue*,**/*dm*,**/*handbook*,**/*generator*,**/*tag*,**/*feedback*,.kiro/specs/script-generation/**"
---

# 剧本杀创作知识库 (Murder Mystery Script Writing Skill)

当涉及剧本杀内容生成、剧本结构设计、角色创建、线索设计等任务时，请参考本 skill。

## 一、剧本杀创作核心流程

### 1. 主题与设定 (Theme & Setting)
- 选择时代背景：民国、古风、现代都市、科幻未来、西方奇幻等
- 定义场景地点：豪华庄园、密闭列车、孤岛、古镇、太空站等
- 确定氛围基调：恐怖、悬疑、情感、欢乐、烧脑
- 天气/环境细节会影响整体氛围（暴风雨之夜、大雪封山等）

### 2. 角色设计 (Character Design)
角色分类：
- 凶手 (Murderer)：目标是误导他人、避免被怀疑，需要有清晰的动机和作案手法
- 死者 (Victim)：通过背景故事或回忆录呈现，与所有角色都有关联
- 嫌疑人 (Suspects)：每人都需要有动机、秘密和作案机会
- 证人/红鲱鱼 (Witnesses/Red Herrings)：提供误导性或片面信息

角色设计要素：
- 独特的性格特征和背景故事
- 与其他角色的关系网络（恩怨、利益、情感）
- 个人秘密（至少1-2个）
- 个人目标和行为动机
- 不在场证明（真实或虚假）
- 确保每个角色有相近的"聚光灯时间"和线索权重

### 3. 情节构建 (Plot Construction)

标准剧本杀流程分幕：
1. 引入幕 (Introduction)：玩家见面、了解角色、探索关系
2. 发现幕 (Discovery)：案件发生，调查开始
3. 搜证幕 (Investigation)：玩家分享线索、互动收集证据（可多轮）
4. 指控幕 (Accusation)：所有人做出最终推理和指控
5. 揭示幕 (Reveal)：凶手身份揭晓，真相还原

情节设计原则：
- 案件必须可解但有挑战性
- 包含足够的转折和反转
- 红鲱鱼与真实线索比例合理
- 每个角色都应有嫌疑，但最终逻辑自洽
- 时间线必须严密，不能有逻辑漏洞

### 4. 线索系统设计 (Clue System)
线索类型：
- 物证：凶器、血迹、撕碎的信件、指纹等
- 证词：目击者陈述、角色对话中的矛盾
- 文档：日记、信件、合同、遗嘱等
- 环境线索：场景中的异常、时间线矛盾
- 隐藏关系：秘密恋情、商业竞争、家族恩怨

线索设计原则：
- 关键线索（指向真凶）必须存在且可被发现
- 红鲱鱼线索要合理，不能太明显也不能完全无关
- 线索应分散在不同轮次中逐步释放
- 每个角色应持有独特的线索片段

### 5. 游戏材料 (Game Materials)

DM手册：完整故事真相和时间线、每轮流程指引、线索发放时机、结局揭示脚本
玩家手册：角色传记、个人秘密和目标、关系描述、每轮行动指引
物料：线索卡片、场景地图、证据道具描述、投票/指控表单

## 二、推理流派分类

### 本格 (Honkaku)
- 严格"公平推理"原则，所有线索公平呈现
- 核心是逻辑推理和证据链条
- 诡计设计精巧（密室、不在场证明、物理诡计）
- 适合硬核推理玩家

### 新本格 (Shin-Honkaku)
- 保留公平推理，允许更大胆的诡计和叙事手法
- 叙述性诡计、时间线诡计、身份诡计
- 推理为核心但故事性更强
- 适合追求推理+故事体验的玩家

### 变格 (Henkaku)
- 突破传统推理框架，强调氛围、心理、情感
- 不以"找凶手"为唯一目标
- 可能包含恐怖、超自然、心理悬疑元素
- 适合角色扮演和氛围沉浸的玩家

## 三、AI 生成 Pipeline

```
用户输入基础参数 → 世界观生成 → 角色生成 → 核心事件生成
→ 时间线生成 → 线索系统生成 → 剧本分幕生成
→ DM手册生成 → 玩家手册生成 → 物料生成
```

## 四、评价反馈维度

- 推理体验（线索合理性、难度适中性）
- 角色体验（角色趣味性、代入感）
- 情节体验（故事吸引力、反转精彩度）
- 节奏体验（时长合适性、节奏流畅度）
- 整体满意度
